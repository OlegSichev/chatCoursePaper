# ChatServer
ChatServer - это серверная программа на языке Java, которая реализует функционал чата. Она позволяет клиентам подключаться к серверу и обмениваться сообщениями.

## Установка
Склонируйте репозиторий с помощью команды:

<pre><code> git clone https://github.com/username/ChatServer.git
</code></pre>

Откройте проект в вашей любимой интегрированной среде разработки (IDE).
Зависимости
Проект не имеет дополнительных зависимостей.

## Настройка
Настройки сервера чата хранятся в файле settings.txt. Файл содержит две строки:

- IP-адрес сервера
- Порт сервера
- Установите необходимые значения IP-адреса и порта в settings.txt перед запуском сервера.

## Запуск
- Запустите программу, запустив класс ChatServer.
- Программа будет ожидать подключения клиентов и выводить сообщения о новых подключениях.
- Подключенные клиенты смогут обмениваться сообщениями через сервер.
  
## Взаимодействие с сервером
- В терминале сервера вы можете отправлять сообщения, которые будут доставлены всем подключенным клиентам.
- Клиенты могут подключаться к серверу с помощью приложений-клиентов, которые отправляют текстовые сообщения на сервер.
- Сообщения от клиентов будут отображаться в терминале сервера и доставляться всем остальным клиентам.
## Закрытие сервера
Чтобы остановить работу сервера, вызовите метод stopServer() класса ChatServer. Сервер перестанет принимать новые подключения и закроет соединения с существующими клиентами.

## Логирование
Все сообщения, отправленные через сервер, записываются в файл file.log. Файл содержит информацию о времени отправки сообщения, имени пользователя и самом сообщении.

## Архитектура приложения
- Главный поток (main) отвечает за начальную настройку сервера, чтение настроек из файла и создание серверного сокета. Он также ждет подключения новых клиентов.

- Поток serverInputThread отвечает за чтение сообщений с сервера. В нем создается Scanner для чтения ввода с клавиатуры сервера. Затем он в бесконечном цикле считывает введенное сообщение, добавляет префикс "[Server]" и отправляет его всем подключенным клиентам.

- Поток clientThread создается для каждого подключенного клиента. Он отвечает за обмен сообщениями с клиентом и обработку полученных данных. В этом потоке создается BufferedReader для чтения сообщений от клиента и PrintWriter для отправки сообщений клиенту. Также создается BufferedWriter для записи сообщений в лог-файл. Сначала в потоке происходит чтение имени пользователя и его добавление в список клиентов. Затем в бесконечном цикле происходит чтение и обработка сообщений от клиента. Каждое полученное сообщение записывается в лог-файл, отправляется всем клиентам и выводится в терминале сервера. По завершении цикла, закрываются все соединения и потоки, а клиент удаляется из списка клиентов.

- Протокол обмена сообщениями между приложениями основан на использовании потокового ввода-вывода. Клиент отправляет свое имя на сервер, затем отправляет сообщения, которые сервер пересылает всем клиентам. Сообщения также записываются в лог-файл для дальнейшего анализа.


# ChatClient

## Клиент для чата
Простой клиент для чата, написанный на языке программирования Java. Клиент подключается к серверу и позволяет пользователю отправлять и получать сообщения в реальном времени.

##Требования
Для использования клиента необходимо иметь установленную Java Virtual Machine (JVM) на компьютере.

## Установка и запуск
- Скомпилируйте исходный код клиента при помощи команды javac ChatClient.java.
- Запустите скомпилированный файл с помощью команды java ChatClient.

## Настройка
Настройки клиента загружаются из файла settings.txt. Файл должен содержать две строки:

- IP адрес сервера (первая строка)
- Порт сервера (вторая строка)

Пример файла settings.txt:

<pre><code>127.0.0.1
8080
</code></pre>

## Использование
- После запуска клиента, введите свое имя в консоли.
- После успешного подключения к серверу, вы сможете отправлять и принимать сообщения.
- Для отправки сообщения введите текст сообщения и нажмите Enter.
- Для выхода из чата введите команду /exit.

## Хранение логов
- Клиент записывает полученные сообщения в файл file.log. 
- Каждое сообщение сохраняется в виде:

<pre><code>[yyyy-MM-dd HH:mm:ss] message
</code></pre>

## Завершение работы
Клиент будет завершать работу и закрывать соединение с сервером в случае ввода команды /exit или при неудачном подключении к серверу.

## Архитектура приложения
- Главный поток (main), который отвечает за инициализацию приложения и управление основным потоком ввода-вывода.
- Поток для получения сообщений от сервера (serverThread), который отвечает за получение сообщений от сервера, их запись в лог-файл и вывод на консоль.
Протокол обмена сообщениями между приложениями основан на использовании сокетов, согласно стандартному протоколу TCP/IP. Приложение на стороне клиента открывает сокет и подключается к указанному серверу, после чего устанавливается взаимосвязь между клиентом и сервером.

- Приложение отправляет сообщения серверу с помощью BufferedWriter, а затем принимает и обрабатывает ответы от сервера с помощью BufferedReader. Полученные сообщения записываются в лог-файл и выводятся на консоль для пользователя.

- Взаимодействие между клиентской и серверной частями происходит через обмен строковыми сообщениями, где каждое сообщение обязательно завершается символом новой строки.